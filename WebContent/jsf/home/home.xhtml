<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:b="http://bootsfaces.net/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
       xmlns:o="http://omnifaces.org/ui"
	  xmlns:of="http://omnifaces.org/functions">
	  
	<h:head>
		<title>#{stringText.homeTitle}</title>	
		<script src="https://maps.googleapis.com/maps/api/js?file=api&amp;v=3&amp;key=AIzaSyCfXN_jHK2GsK3xbGC0L_QH89tb_WsU9N8" type="text/javascript"/>
			
	</h:head>
	<h:body>
		<h:outputScript library="javax.faces" name="jsf.js" target="head"/>
		<h:outputScript library="primefaces" name="jquery/jquery.js" target="head" />
		<h:outputScript library="omnifaces" name="fixviewstate.js" target="head" />
		
		<o:deferredScript name="findMe.js" type="text/javascript" />
		
		<b:container id="info-home">
			<h1 class="title">User Name = "#{userManager.user.userName}"</h1>
			<h1 class="title">Password = "#{userManager.user.password}"</h1>
			<h1 class="title">Mail = "#{userManager.user.mail}"</h1>
			<h1>latitude = "#{userManager.latitude}"  longitude = "#{userManager.longitude}" </h1>
		</b:container>
		
		<h:form id="formId">
	    	<h:inputHidden id="latitude" value="#{userManager.latitude}" />
	   		<h:inputHidden id="longitude" value="#{userManager.longitude}" />	   		
	    	<b:commandButton value="#{stringButton.findMe}" update="info-home map-search-id" />
		</h:form>
		
		<b:form id="logout-form-id">
			<b:commandButton action="#{userManager.logout}" update="growl-home" value="#{stringButton.logout}" />
		</b:form>
			
		<b:panel col-xs="6" col-sm="6" col-md="4"  title= "#{stringText.researchForm}">
				<b:container id="search-form-id" fluid="true" >
					<ui:include src="search.xhtml" ></ui:include>
				</b:container>
				
				<b:panel id="search-history-id" title="#{stringText.previousResult}" >
					<ui:include src="searchHistory.xhtml"></ui:include>
				</b:panel>
			
		</b:panel>
		
		<b:panel col-xs="10" col-sm="6" col-md="8" title= "#{stringText.researchResult}">
		
			<b:panel id="result-search-id" title="#{stringText.tabView}"  >	
				 <ui:include src="searchResult.xhtml"/>
			</b:panel>
			
			<b:panel id="map-search-id" title="#{stringText.mapView}"  >	
				 	<ui:include src="searchMap.xhtml"></ui:include>
			</b:panel>
				
		</b:panel>
		
		<b:growl id="growl-home" life="1000" placementFrom="top" show-detail="false" global-only="false"
	       					show-summary="true" allow-dismiss="true" animation-enter="animated bounceInDown"
	      						 animation-exit="animated flipOutX" escape="true"   />
				 	
	</h:body>
</html>